(this["webpackJsonpcalc-ids"]=this["webpackJsonpcalc-ids"]||[]).push([[0],{329:function(e,a){},354:function(e,a,t){e.exports=t(431)},359:function(e,a,t){},428:function(e,a){},429:function(e,a){},431:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(15),i=t.n(o);t(359),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=t(459),c=t(460),s=t(227),u=t(78),m=t(48),d=t(448),p=t(451),f=t(452),v=t(453),g=t(454),b=t(301),h=t(461),E=function(){var e={open:!1,title:"",text:"",error:"",content:null},a=r.a.useState(e),t=Object(m.a)(a,2),n=t[0],o=t[1];return window.openAlertModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.text,t=e.title,n=e.error,r=e.content;o({text:a,title:t,error:n,content:r,open:!0})},r.a.createElement(d.a,{open:n.open,disableBackdropClick:!0,fullWidth:!0},n.title&&r.a.createElement(p.a,null,n.title),r.a.createElement(f.a,null,n.text&&r.a.createElement(v.a,null,n.text),n.error&&r.a.createElement(h.a,{severity:"error"},"Erro! ",n.error),n.content&&n.content(),r.a.createElement(g.a,null,r.a.createElement(b.a,{color:"primary",variant:"contained",onClick:function(){o(e)}},"Confirmar"))))},x=t(89),A=t(148),y=t(197),S=t(337),j=t.n(S),w=function(e){var a=e.options,t=Object(y.a)(e,["options"]);return r.a.createElement(j.a,Object.assign({options:Object(x.a)({search:!1,actionsColumnIndex:-1,paging:!1},a),localization:{header:{actions:"A\xe7\xf5es"},body:{emptyDataSourceMessage:"Sem dados",addTooltip:"Adicionar Amostra",editRow:{deleteText:"Voce tem certeza que deseja deletar esta amostra?",cancelTooltip:"Cancelar",saveTooltip:"Salvar"}},pagination:{labelRowsSelect:"linhas",labelRowsPerPage:"Linhas por p\xe1gina:",firstAriaLabel:"Primeira p\xe1gina",firstTooltip:"Primeira p\xe1gina",previousAriaLabel:"P\xe1gina anterior",previousTooltip:"P\xe1gina anterior",nextAriaLabel:"Pr\xf3xima p\xe1gina",nextTooltip:"Pr\xf3xima p\xe1gina",lastAriaLabel:"\xdaltima p\xe1gina",lastTooltip:"\xdaltima p\xe1gina",labelDisplayedRows:"{from}-{to} de {count}"}}},t))};w.defaultProps={options:{}};var O=w,D=t(189),C=t(341),z={M:"M",F:"F"},k=function(e){return null!=e&&""!==e},R=function(e,a){return Number(a)<=Number(e)},F=function(e){var a=e.speciesName,t=e.sex,n=e.size;return k(a)&&k(t)&&k(n)&&R(n,.001)},T=[{title:"Nome da esp\xe9cie",field:"speciesName",validate:function(e){var a=e.speciesName;return k(a)}},{title:"Sexo",field:"sex",lookup:z,validate:function(e){var a=e.sex;return k(a)}},{title:"Tamanho",field:"size",validate:function(e){var a=e.size;return k(a)&&R(a,.001)},align:"left",editComponent:function(e){var a=e.value,t=e.onChange,n=e.error;return r.a.createElement(D.a,{required:!0,style:{fontSize:"13px"},placeholder:"Tamanho",min:"0",value:a||"",onChange:function(e){var a=e.target;return t(a.value)},error:n,type:"number"})},cellStyle:{textAlign:"left"}}],M=function(e){var a=e.size,t=Object(y.a)(e,["size"]);return Object(x.a)({},t,{size:Number(a),id:Object(C.v4)()})},L=function(e){var a=e.samples,t=e.onSampleAdd,n=e.onSampleDelete,o=e.onSampleUpdate;return r.a.createElement(O,{title:"Amostras (".concat(a.length,")"),data:a,columns:T,editable:{onRowAdd:function(e){return new Promise((function(a,n){F(e)?(t(e),a()):n()}))},onRowUpdate:function(e){return new Promise((function(a,t){F(e)?(o(e),a()):t()}))},onRowDelete:function(e){return new Promise((function(a){n(e),a()}))}},options:{addRowPosition:"first",paging:!0,pageSize:10,emptyRowsWhenPaging:!1,showEmptyDataSourceMessage:!1,pageSizeOptions:[5,10,25,50],rowStyle:{fontSize:"14px"}}})},N=[{title:"Esp\xe9cie",field:"species"},{title:"Numero de amostras",field:"samples"},{title:"M\xe9dia tamanho f\xeameas",field:"femalesAverage"},{title:"M\xe9dia tamanho machos",field:"malesAverage"},{title:"IDS",field:"SDI"}],P=function(e){var a,t=e.result;return r.a.createElement(O,{title:"Resultado do c\xe1lculo do \xcdndice de Dimorfismo Sexual",columns:N,data:(a=t,a.map((function(e){return Object(x.a)({},e,{samples:e.samples.length,malesAverage:e.malesAverage.toFixed(2),femalesAverage:e.femalesAverage.toFixed(2),SDI:e.SDI.toFixed(2)})}))),options:{exportButton:!0,paging:!0,pageSize:10,emptyRowsWhenPaging:!1,showEmptyDataSourceMessage:!1,pageSizeOptions:[5,10,25,50]}})},I=function(e){var a=e.calculationResult,t=e.handleCalculation,n=e.disabled;return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{textAlign:"right",marginTop:5},r.a.createElement(b.a,{onClick:t,variant:"contained",color:"secondary",disabled:n},"Calcular IDS")),a&&r.a.createElement(s.a,{marginTop:2},r.a.createElement(P,{result:a})))},B=t(90),_=t.n(B),q=t(147),W=t(99),U=t.n(W),G=t(343),J=t.n(G),V=t(345),H=function(e){var a=e.acceptedMimeTypes,t=e.onChange,n=e.classes,o=e.disabled,i=r.a.useState(null),l=Object(m.a)(i,2),c=l[0],s=l[1];return r.a.createElement(V.a,{onDrop:function(e,a){if(!(a.length>0)){var n=Object(m.a)(e,1)[0];t(n),s(n.name)}},accept:a,multiple:!1},(function(e){var a=e.getRootProps,t=e.getInputProps,i=e.isDragActive,l=e.isDragReject,s=function(e){var a=e.isDragActive,t=e.isDragReject;return e.disabled?n.Dropzone_disabled:t?n.Dropzone_onDragReject:a?n.Dropzone_onDrag:null}({isDragActive:i,isDragReject:l,disabled:o});return r.a.createElement("div",Object.assign({variant:"contained",color:"primary"},a(),{className:"".concat(n.Dropzone," ").concat(s)}),r.a.createElement("input",t()),r.a.createElement(J.a,null),r.a.createElement("div",null,l?"Formato n\xe3o suportado":"Arraste o arquivo aqui, ou clique para adicionar"),c&&r.a.createElement("div",{className:n.Dropzone_selectedFile},r.a.createElement(u.a,null,"Selecionado:"),r.a.createElement(u.a,{variant:"body1"}," ".concat(c))))}))};H.defaultProps={onChange:function(){},acceptedMimeTypes:["image/*"],label:"Arquivo",currentFileName:"",disabled:!1};var Q=U()((function(e){return{Dropzone:{margin:"5px 0",display:"flex",flexDirection:"column",alignItems:"center",color:"#101010",backgroundColor:"#F5F5F5",padding:"10px 16px",fontSize:"0.875rem",minWidth:"64px",borderRadius:"4px",fontWeight:500,fontFamily:"Roboto, Helvetica, Arial, sans-serif",border:"2px solid transparent",cursor:"pointer",outline:"none","&:hover":{backgroundColor:"#D9D9D9"}},Dropzone_onDrag:{backgroundColor:"#FAFAFA",color:"#497530",border:"2px dashed #497530"},Dropzone_onDragReject:{backgroundColor:"#FAFAFA",color:"#D32F2F",border:"2px dashed #D32F2F"},Dropzone_disabled:{opacity:.6,"&:hover":{backgroundColor:"inherit",cursor:"not-allowed"}},Dropzone_selectedFile:{color:"inherit",display:"flex",marginTop:e.spacing(),textTransform:"none"}}}))(H),Y=t(302),$=t(5),K=Object($.a)((function(){return{Loading:{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",width:"100%",height:"100%",top:0,left:0,backgroundColor:"rgba(220, 220, 220, 0.6)",zIndex:1e4}}}))((function(e){var a=e.classes;return r.a.createElement("div",{className:a.Loading},r.a.createElement(Y.a,null))})),X=Object($.a)((function(){return{LoadingWrapper:{position:"relative"}}}))((function(e){var a=e.loading,t=e.children,n=e.classes;return r.a.createElement("div",{className:n.LoadingWrapper},a&&r.a.createElement(K,null),t)})),Z=t(240),ee=t.n(Z),ae=function(e){return new Promise((function(a,t){var n=new FileReader;n.onload=function(e){var t=e.target.result,n=ee.a.read(t,{type:"binary"}),r=Object(m.a)(n.SheetNames,1)[0],o=n.Sheets[r],i=ee.a.utils.sheet_to_row_object_array(o,{defval:null});a(i)},n.onerror=function(e){t(e)},n.readAsBinaryString(e)}))},te=function(e){return""===e||null==e||(Array.isArray(e)?!e.length:"object"===typeof e&&!Object.keys(e).length)},ne=function(e){throw new Error(e)},re={speciesName:{validate:function(e,a){return te(e)&&ne("Linha ".concat(a,": O nome da esp\xe9cie n\xe3o pode ser vazio")),e}},sex:{validate:function(e,a){te(e)&&ne("Linha ".concat(a,": O sexo n\xe3o pode ser vazio"));var t=Object.keys(z),n=e.toUpperCase();return t.includes(n)||ne("Linha ".concat(a,": O sexo deve ser um dos valores: ").concat(t.toString())),n}},size:{validate:function(e,a){te(e)&&ne("Linha ".concat(a,": O tamanho n\xe3o pode ser vazio"));var t=Number(e);return isNaN(t)&&ne("Linha ".concat(a,": Tamanho deve ser um n\xfamero")),t}}},oe=[{format:"csv",mimeType:"text/csv"},{format:"ods",mimeType:"application/vnd.oasis.opendocument.spreadsheet"},{format:"xls",mimeType:"application/vnd.ms-excel"},{format:"xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}],ie=oe.map((function(e){return e.format})),le=oe.map((function(e){return e.mimeType})),ce=function(e){return e.length||ne("A tabela n\xe3o possui nenhum registro."),e.map((function(e,a){return Object.keys(e).reduce((function(t,n){var r=re[n],o=e[n],i=a+2;return t[n]=r.validate?r.validate(o,i):o,t}),{})}))},se=function(){var e=Object(q.a)(_.a.mark((function e(a){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(a);case 2:return t=e.sent,n=t.map((function(e){var a=Object.keys(re);return Object.keys(e).reduce((function(t,n,r){return t[a[r]]=e[n],t}),{})})),e.abrupt("return",ce(n));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ue=["Utilize o modelo como ponto de partida, ele cont\xe9m um exemplo do formato dos dados.",'O separador das c\xe9luas da tabela \xe9 "," (v\xedrgula), por isso evite valores com esse s\xedmbolo, caso precisar utilize o valor entre aspas ex: "especie, 2".',"A ordem das colunas deve ser: nome da esp\xe9cie | sexo | tamanho.",'O campo sexo deve ser um dos valores: "M ou F".','O campo tamanho deve ser um n\xfamero com a casa decimal separarda por "." (ponto). Ex: "1.45".'],me=function(e){var a=e.open,t=e.onClose,n=e.onSubmit,o=r.a.useState(null),i=Object(m.a)(o,2),l=i[0],c=i[1],g=r.a.useState([]),E=Object(m.a)(g,2),x=E[0],A=E[1],y=r.a.useState(!1),S=Object(m.a)(y,2),j=S[0],w=S[1],O=function(){var e=Object(q.a)(_.a.mark((function e(a){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,se(a);case 4:t=e.sent,A(t),c(null),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n=e.t0.message,c(n);case 13:w(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}(),D=function(){var e=Object(q.a)(_.a.mark((function e(a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),a.stopPropagation(),n(x);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(d.a,{open:a,onClose:t,disableBackdropClick:!0,maxWidth:"md"},r.a.createElement(X,{loading:j},r.a.createElement(p.a,null,r.a.createElement(s.a,{display:"flex",justifyContent:"space-between"},"Adicionar Amostras")),r.a.createElement(f.a,null,r.a.createElement(u.a,null,"Instru\xe7\xf5es:"),r.a.createElement("ul",null,ue.map((function(e,a){return r.a.createElement("li",{key:a},r.a.createElement(u.a,null,e))}))),r.a.createElement(s.a,{textAlign:"center"},r.a.createElement(b.a,{color:"primary",variant:"outlined",onClick:function(){return window.open("/s-dimorph/tabela-amostras-exemplo.csv")}},"Baixar Modelo")),r.a.createElement(v.a,null,"Formatos aceitos: ",ie.join(", ")),r.a.createElement(Q,{onChange:O,acceptedMimeTypes:le}),!!l&&r.a.createElement(s.a,{marginTop:"16px"},r.a.createElement(h.a,{severity:"error"},"Erro! ",l)),r.a.createElement(s.a,{marginY:"16px",display:"flex",justifyContent:"flex-end"},r.a.createElement(s.a,{marginRight:"16px"},r.a.createElement(b.a,{color:"primary",onClick:t},"Cancelar")),r.a.createElement(b.a,{color:"primary",variant:"contained",onClick:D,disabled:!!l||!x.length},"Confirmar")))))},de=function(e){var a=document.querySelector("#loading-wrapper");e?a.classList.add("loading-indicator"):a.classList.remove("loading-indicator")},pe=t(230),fe=function(){return Array.apply(null,Array(35)).map((function(e){return M({speciesName:["A","B","C"][Math.floor(3*Math.random())],sex:["F","M"][Math.floor(2*Math.random())],size:Math.floor(10*Math.random())})}))},ve=function(e){return Object.keys(e).reduce((function(a,t){var n=e[t],r=be(n),o=r.males,i=r.females;!function(e){var a=e.males,t=e.females,n=e.currentSpecies;if(0===a.length)throw new Error("A esp\xe9cie ".concat(n," precisa conter pelo menos uma amostra do sexo masculino."));if(0===t.length)throw new Error("A esp\xe9cie ".concat(n," precisa conter pelo menos uma amostra do sexo feminino."))}({males:o,females:i,currentSpecies:t});var l=ge({males:o,females:i}),c=l.malesAverage,s=l.femalesAverage,u=Ee({malesAverage:c,femalesAverage:s});return[].concat(Object(A.a)(a),[{species:t,samples:n,males:o,females:i,malesAverage:c,femalesAverage:s,SDI:u}])}),[])},ge=function(e){var a=e.males,t=e.females;return{malesAverage:he(a),femalesAverage:he(t)}},be=function(e){return{males:xe.filterBy(e,"sex","M"),females:xe.filterBy(e,"sex","F")}},he=function(e){return e.length?e.reduce((function(e,a){return e+Number(a.size||0)}),0)/e.length:0},Ee=function(e){var a=e.malesAverage,t=e.femalesAverage;return a&&t?a>t?-1*(a/t-1):t/a-1:0},xe={groupBy:function(e,a){return e.reduce((function(e,t){var n=e[t[a]]||[];return e[t[a]]=[].concat(Object(A.a)(n),[t]),e}),{})},filterBy:function(e,a,t){return e.filter((function(e){return e[a]===t}))}},Ae=function(e){var a=xe.groupBy(e,"speciesName");return ve(a)},ye=function(e){return Ae(e)},Se=["Este sistema tem como objetivo auxiliar o c\xe1lculo do \xedndice de Lovich-Gibbons, este analisa a raz\xe3o do dimorfismo sexual o tamanho (diferen\xe7a de tamanho entre machos e f\xeameas).",'Para come\xe7ar primeiro voc\xea deve adicionar as amostras coletadas informando o nome da esp\xe9cie, o sexo e o tamanho da amostra. Esta opera\xe7\xe3o pode ser feita atrav\xe9s do simbolo de + da tabela, ou atrav\xe9s do upload de um arquivo, no bot\xe3o "ADICIONAR AMOSTRAS POR ARQUIVO"','Se voce quiser fazer um teste pode utilizar o bot\xe3o "GERAR AMOSTRAS ALEAT\xd3RIAS".','Ap\xf3s adicionar as amostras clique em "CALCULAR IDS", essa opera\xe7\xe3o vai gerar uma tabela com os resultados das esp\xe9cies.',"Esta tabela de resultado pode ser exportada em csv(para ser utilizada com excel, libreoffice) ou em pdf."],je=t(344),we=t.n(je),Oe=function(){var e=r.a.useState([]),a=Object(m.a)(e,2),t=a[0],o=a[1],i=r.a.useState(null),l=Object(m.a)(i,2),c=l[0],d=l[1],p=r.a.useState(!1),f=Object(m.a)(p,2),v=f[0],g=f[1],h=Object(n.useRef)(null);Object(n.useEffect)((function(){de(!1)}),[t,c]),Object(n.useEffect)((function(){window.scrollTo(0,h.current.offsetTop)}),[c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{justifyContent:"flex-end",marginBottom:2,display:"flex",alignItems:"center"},r.a.createElement(s.a,{marginLeft:2},r.a.createElement(b.a,{onClick:function(){o(fe())},variant:"outlined",color:"primary"},"Gerar Amostras Aleat\xf3rias")),r.a.createElement(s.a,{marginLeft:2},r.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){return g(!0)}},"Adicionar Amostras por Arquivo")),r.a.createElement(s.a,{marginLeft:2},r.a.createElement(pe.a,{title:"Ajuda",onClick:function(){window.openAlertModal({content:function(){return r.a.createElement(s.a,{textAlign:"justify"},r.a.createElement("ul",null,Se.map((function(e,a){return r.a.createElement("li",{key:a},r.a.createElement(u.a,null,e))}))))},title:"Ajuda"})}},r.a.createElement(we.a,null)))),r.a.createElement(L,{samples:t,onSampleAdd:function(e){var a=M(e);o([].concat(Object(A.a)(t),[a]))},onSampleDelete:function(e){var a=t.filter((function(a){return a.id!==e.id}));o(a)},onSampleUpdate:function(e){var a=t.map((function(a){return a.id===e.id?Object(x.a)({},a,{},e):a}));o(a)}}),r.a.createElement("span",{ref:h},r.a.createElement(I,{calculationResult:c,disabled:0===t.length,handleCalculation:function(){de(!0);try{var e=ye(t);d(e)}catch(a){window.openAlertModal({title:"Erro ao calcular",error:a.message})}de(!1)}})),r.a.createElement(me,{open:v,onClose:function(){return g(!1)},onSubmit:function(e){de(!0),g(!1);var a=e.map(M);o(a)}}))},De=(t(430),t(109)),Ce=Object(De.a)({palette:{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)"},primary:{dark:"rgb(73,117,48)",light:"rgb(179,209,161)",main:"rgb(102,163,67)"},secondary:{dark:"rgb(58,93,38)",light:"rgb(102,163,67)",main:"rgb(65,105,43)"}}}),ze=function(){return r.a.createElement(l.a,{theme:Ce},r.a.createElement(c.a,{component:"main",p:5},r.a.createElement(E,null),r.a.createElement(s.a,{mt:2,py:3,textAlign:"center"},r.a.createElement(u.a,{variant:"h2",paragraph:!0},"Calc-IDS"),r.a.createElement(Oe,null))))};i.a.render(r.a.createElement(ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[354,1,2]]]);
//# sourceMappingURL=main.8dc7f0b2.chunk.js.map